
	<canvas id="canvas" width="800" height="200"></canvas>

<script>
var panorama = new Image();
panorama.src = 'https://mdn.mozillademos.org/files/4553/Capitan_Meadows,_Yosemite_National_Park.jpg';
var CanvasXSize = 800;					// mere se moraju poklapati sa html canvasom
var CanvasYSize = 200;
var brzina = 30; //lower is faster
var scale = 1.05;
var y = -4.5; //vertical offset

// Main program

var pomera_x = 0.75;
var slikaSirina;
var slikaVisina;
var x = 0;
var clearX;
var clearY;
var sadrzaj;

panorama.onload = function() {
    slikaSirina = panorama.width * scale;
    slikaVisina = panorama.height * scale;
    if (slikaSirina > CanvasXSize) { x = CanvasXSize-slikaSirina; } // image larger than canvas
    if (slikaSirina > CanvasXSize) { clearX = slikaSirina; } // image larger than canvas
    else { clearX = CanvasXSize; }
    if (slikaVisina > CanvasYSize) { clearY = slikaVisina; } // image larger than canvas
    else { clearY = CanvasYSize; }

    sadrzaj = document.getElementById('canvas').getContext('2d');
    return setInterval(mrdaj, brzina);
}

function mrdaj() {
    // ƒçisti platno
    sadrzaj.clearRect(0,0,clearX,clearY);
    //If image is <= Canvas Size
    if (slikaSirina <= CanvasXSize) {
        //reset, start from beginning
        if (x > (CanvasXSize)) { x = 0; }
        //mrdaj aditional image
        if (x > (CanvasXSize-slikaSirina)) { sadrzaj.drawImage(panorama,x-CanvasXSize+1,y,slikaSirina,slikaVisina); }
    }
    //If image is > Canvas Size
    else {
        //reset, start from beginning
        if (x > (CanvasXSize)) { x = CanvasXSize-slikaSirina; }
        //mrdaj aditional image
        if (x > (CanvasXSize-slikaSirina)) { sadrzaj.drawImage(panorama,x-slikaSirina+1,y,slikaSirina,slikaVisina); }
    }

    sadrzaj.drawImage(panorama,x,y,slikaSirina,slikaVisina);
    x += pomera_x;
}
</script>